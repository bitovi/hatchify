name: monorepo-test

inputs:
  package:
    description: "The package folder name."
    required: true

runs:
  using: "composite"

  steps:
    - name: SQLite tests
      shell: bash
      run: npx nx test ${{ inputs.package }}
    - name: Postgres tests
      shell: bash
      run: npx nx test ${{ inputs.package }}
      env:
        POSTGRES_URI: postgres://postgres:postgres@postgres:5432
